A51 MACRO ASSEMBLER  TIME                                                                 12/22/2023 22:57:54 PAGE     1


MACRO ASSEMBLER A51 V8.2.7.0
OBJECT MODULE PLACED IN .\Objects\time.OBJ
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\A51.EXE .\Objects\time.src PR(.\Listings\time.ls1) EP DEBUG

LOC  OBJ            LINE     SOURCE

                       1     ; .\Objects\time.SRC generated from: time.c
                       2     ; COMPILER INVOKED BY:
                       3     ;        C:\Keil_v5\C51\BIN\C51.EXE time.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRIN
                             T(.\Listings\time.lst) TABS(2) SRC(.\Objects\time.SRC)
                       4     
                       5     
                       6     NAME    TIME
                       7     
                       8     ?PR?_delay_ms?TIME   SEGMENT CODE 
                       9     ?DT?_delay_ms?TIME   SEGMENT DATA OVERLAYABLE 
                      10             EXTRN   DATA (time_ms)
                      11             EXTRN   CODE (?C?ULCMP)
                      12             PUBLIC  _delay_ms
                      13     
----                  14             RSEG  ?DT?_delay_ms?TIME
0000                  15     ?_delay_ms?BYTE:
0000                  16               a?040:   DS   4
0004                  17             ORG  4
0004                  18     time_ms_start?041:   DS   4
                      19     ; /*
                      20     ;  * @Author: ÍõÐÄå«
                      21     ;  * @Date: 2023-12-19 11:10:32
                      22     ;  * @LastEditors: ÍõÐÄå«
                      23     ;  * @LastEditTime: 2023-12-22 22:56:51
                      24     ;  * @FilePath: \undefinedc:\Users\u2021\Desktop\×ÊÁÏ\´óÈ\µ¥Æ¬»ú\ÊµÑé\Ìá¸ßÊµÑé\CÓïÑÔ°æ±¾\ti
                             me.c
                      25     ;  * @Description: Ê±¼äÎÄ¼þ£¬°üº¬Ê±¼äÏà¹ØµÄº¯Ê(ÑÓÊ±msº¯Ê)
                      26     ;  * 
                      27     ;  * Copyright (c) 2023 by ${ÍõÐÄå«}, All Rights Reserved. 
                      28     ;  */
                      29     ; #include "time.h" //°üº¬Ê±¼äÏà¹ØµÄÍ·ÎÄ¼þ
                      30     ; void delay_ms(unsigned long a) //¶¨ÒåÒ»¸öº¯Êdelay_ms£¬ÓÃÀ´ÑÓÊ±aºÁÃë
                      31     
----                  32             RSEG  ?PR?_delay_ms?TIME
0000                  33     _delay_ms:
                      34             USING   0
                      35                             ; SOURCE LINE # 12
0000 8F00     F       36             MOV     a?040+03H,R7
0002 8E00     F       37             MOV     a?040+02H,R6
0004 8D00     F       38             MOV     a?040+01H,R5
0006 8C00     F       39             MOV     a?040,R4
                      40     ; {
                      41                             ; SOURCE LINE # 13
                      42     ;       unsigned long data time_ms_start=time_ms; //¶¨ÒåÒ»¸ö±äÁ¿time_ms_start£¬ÓÃÀ´´æ´¢¿ªÊ¼
                             µÄÊ±¼ä
                      43                             ; SOURCE LINE # 14
0008 850000   F       44             MOV     time_ms_start?041+03H,time_ms+03H
000B 850000   F       45             MOV     time_ms_start?041+02H,time_ms+02H
000E 850000   F       46             MOV     time_ms_start?041+01H,time_ms+01H
0011 850000   F       47             MOV     time_ms_start?041,time_ms
0014                  48     ?C0001:
                      49     ;       while(1) //ÎÞÏÞÑ­»·
                      50                             ; SOURCE LINE # 15
                      51     ;       {
                      52                             ; SOURCE LINE # 16
                      53     ;               if(time_ms-time_ms_start==a) //Èç¹ûµ±Ç°Ê±¼ä¼õÈ¥¿ªÊ¼Ê±¼äµÈÓÚa
                      54                             ; SOURCE LINE # 17
0014 C3               55             CLR     C
A51 MACRO ASSEMBLER  TIME                                                                 12/22/2023 22:57:54 PAGE     2

0015 E500     F       56             MOV     A,time_ms+03H
0017 9500     F       57             SUBB    A,time_ms_start?041+03H
0019 FF               58             MOV     R7,A
001A E500     F       59             MOV     A,time_ms+02H
001C 9500     F       60             SUBB    A,time_ms_start?041+02H
001E FE               61             MOV     R6,A
001F E500     F       62             MOV     A,time_ms+01H
0021 9500     F       63             SUBB    A,time_ms_start?041+01H
0023 FD               64             MOV     R5,A
0024 E500     F       65             MOV     A,time_ms
0026 9500     F       66             SUBB    A,time_ms_start?041
0028 FC               67             MOV     R4,A
0029 AB00     F       68             MOV     R3,a?040+03H
002B AA00     F       69             MOV     R2,a?040+02H
002D A900     F       70             MOV     R1,a?040+01H
002F A800     F       71             MOV     R0,a?040
0031 C3               72             CLR     C
0032 120000   F       73             LCALL   ?C?ULCMP
0035 70DD             74             JNZ     ?C0001
                      75     ;                       break; //Ìø³öÑ­»·
                      76                             ; SOURCE LINE # 18
                      77     ;       }
                      78                             ; SOURCE LINE # 19
                      79     ; }
                      80                             ; SOURCE LINE # 20
0037                  81     ?C0004:
0037 22               82             RET     
                      83     ; END OF _delay_ms
                      84     
                      85             END
A51 MACRO ASSEMBLER  TIME                                                                 12/22/2023 22:57:54 PAGE     3

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

?C0001 . . . . . .  C ADDR   0014H   R   SEG=?PR?_DELAY_MS?TIME
?C0004 . . . . . .  C ADDR   0037H   R   SEG=?PR?_DELAY_MS?TIME
?C?ULCMP . . . . .  C ADDR   -----       EXT
?DT?_DELAY_MS?TIME  D SEG    0008H       REL=UNIT
?PR?_DELAY_MS?TIME  C SEG    0038H       REL=UNIT
?_DELAY_MS?BYTE. .  D ADDR   0000H   R   SEG=?DT?_DELAY_MS?TIME
A?040. . . . . . .  D ADDR   0000H   R   SEG=?DT?_DELAY_MS?TIME
TIME . . . . . . .  N NUMB   -----       
TIME_MS. . . . . .  D ADDR   -----       EXT
TIME_MS_START?041.  D ADDR   0004H   R   SEG=?DT?_DELAY_MS?TIME
_DELAY_MS. . . . .  C ADDR   0000H   R   SEG=?PR?_DELAY_MS?TIME


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
